{"version":3,"sources":["lib/sessionStorage.js","actions/api/Api.js","actions/api/Session.js","actions/login.js","screens/signin/SignIn.js","screens/signin/SignInContainer.js","screens/home/Home.js","screens/home/HomeContainer.js","actions/logout.js","screens/notFound/index.js","screens/notFound/NotFound.js","screens/admin/index.js","screens/admin/Admin.js","screens/App.js","screens/AppContainer.js","serviceWorker.js","store/store.js","reducers/sessions.js","reducers/index.js","index.js"],"names":["sessionStorage","SessionStorage","Object","classCallCheck","this","user","authenticationToken","AUTHENTICATED_USER","AUTH_TOKEN","SESSION_STORAGE_ERR","key","window","getItem","Error","value","setItem","clear","getter","authenticationUser","trim","length","JSON","parse","token","setter","stringify","getAuthToken","logRejection","getUser","url","request","response","text","arguments","undefined","console","warn","concat","body","status","statusText","Api","rawResponse","defaultData","json","then","setToken","setUser","get","go","method","post","put","patch","delete","headers","Headers","Accept","login","password","btoa","set","fetchUrl","Promise","resolve","reject","fetch","ok","String","charAt","data","log","handleFailedRequest","error","logFailure","authorizationHandler","authToken","getResponseData","userHandler","currentUser","Session","URL","email","params","authResponse","PASSWORD_RECOVERY_URL","SIGNUP_URL","instance","userLoginFailure","result","type","errorMessage","errors","authenticateUser","dispatch","sendAuthRequest","session","emailLogin","success","isLoggedIn","userLoginSuccess","catch","err","SignIn","props","_this","possibleConstructorReturn","getPrototypeOf","call","_this$state","state","_this2","_this$props","_this$state2","react_default","a","createElement","react_router","to","className","Row","Col","sm","size","push","pull","offset","Form","style","color","FormGroup","Label","for","Input","placeholder","onChange","e","setState","target","Button","onClick","Component","SignInContainer","connect","Home","userSignOut","HomeContainer","wipeSession","NotFound","react_router_dom","Admin","MENU_ITEMS","title","route","component","exact","mainMenu","App","ComponentToRender","pathname","from","location","role","admin","paddingTop","path","map","screen","render","checkAuth","Container","renderRoutes","AppContainer","ownProps","Boolean","hostname","match","middleware","initialState","reducers","action","assign","applyMiddleware","thunk","store","createStore","combineReducers","objectSpread","routerReducer","ReactDOM","es","screens_AppContainer","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.06c2ac1a.chunk.js","sourcesContent":["class SessionStorage {\n  constructor() {\n    this.user = null;\n    this.authenticationToken = null;\n    this.AUTHENTICATED_USER = 'AUTHENTICATED_USER';\n    this.AUTH_TOKEN = 'AUTH_TOKEN';\n    this.SESSION_STORAGE_ERR = 'Current browser does not support window.sessionStorage!';\n  }\n\n  getter(key) {\n    if (typeof window.sessionStorage !== 'undefined') {\n      return window.sessionStorage.getItem(key);\n    }\n    throw new Error(this.SESSION_STORAGE_ERR);\n  }\n\n  setter(key, value) {\n    if (typeof window.sessionStorage !== 'undefined') {\n      window.sessionStorage.setItem(key, value);\n      return value;\n    }\n    throw new Error(this.SESSION_STORAGE_ERR);\n  }\n\n  wipeSession() {\n    if (typeof window.sessionStorage !== 'undefined') {\n      window.sessionStorage.clear();\n      return true;\n    }\n    throw new Error(this.SESSION_STORAGE_ERR);\n  }\n\n  getUser() {\n    const user = this.getter(this.AUTHENTICATED_USER);\n    this.authenticationUser = user && user.trim().length > 0 ? JSON.parse(user) : null;\n\n    return this.authenticationUser;\n  }\n\n  getAuthToken() {\n    const token = this.getter(this.AUTH_TOKEN);\n    this.authenticationToken = token && token.trim().length > 0 ? token : null;\n\n    return this.authenticationToken;\n  }\n\n  setToken(token) {\n    return this.setter(this.AUTH_TOKEN, token);\n  }\n\n  setUser(user) {\n    return this.setter(this.AUTHENTICATED_USER, JSON.stringify(user));\n  }\n}\n\nexport default new SessionStorage();\n","/* eslint-disable no-console */\nimport fetch from 'isomorphic-fetch';\nimport sessionStorage from '../../lib/sessionStorage';\n\nlet AUTH_TOKEN = sessionStorage.getAuthToken();\nlet AUTHENTICATED_USER = sessionStorage.getUser();\n\nconst logRejection = (url, request, response, text = '') => {\n  console.warn(` ------ API request rejected\n        URL: ${url}\n        Body: ${request.body}\n        Response: ${response.status} ${response.statusText}\n        ${text || response}`);\n};\n\nconst logFailure = (url, request, error) => {\n  console.warn(` ------ API request failed\n        URL: ${url}\n        Body: ${request.body}\n        Error: ${error}`);\n};\n\nconst handleFailedRequest = (fetchUrl, request, response, reject) => {\n  response.json().then(\n    (data) => {\n      console.log(data);\n      logRejection(fetchUrl, request, response, data);\n      reject(data);\n    },\n    () => {\n      logRejection(fetchUrl, request, response);\n      reject(new Error(response));\n    },\n  );\n};\n\nclass Api {\n    static get = url => (\n      Api.go(url, {\n        method: 'get',\n      })\n    );\n\n    static post = (url, body) => (\n      Api.go(url, {\n        method: 'post',\n        body,\n      })\n    );\n\n    static put = (url, body) => (\n      Api.go(url, {\n        method: 'put',\n        body,\n      })\n    );\n\n    static patch = (url, body) => (\n      Api.go(url, {\n        method: 'patch',\n        body,\n      })\n    );\n\n    static delete = url => (\n      Api.go(url, {\n        method: 'delete',\n      })\n    );\n\n    static go = (url, request = {}) => {\n      const headers = new Headers({ Accept: 'application/json' });\n\n      if (request.body !== undefined) {\n        if (request.body.login && request.body.password) {\n          AUTH_TOKEN = `Basic ${btoa(`${request.body.login}:${request.body.password}`)}`;\n          request.body.login = null;\n          request.body.password = null;\n        }\n        headers.set('Content-Type', 'application/json');\n        request.body = JSON.stringify(request.body);\n      }\n      if (AUTH_TOKEN) headers.set('Authorization', AUTH_TOKEN);\n      request.headers = headers;\n      const fetchUrl = `/api/${url}`;\n\n      return new Promise((resolve, reject) => {\n        fetch(fetchUrl, request).then((response) => {\n          const success = response.ok && String(response.status).charAt() === '2';\n          // eslint-disable-next-line no-unused-expressions\n          success ? resolve(response) : handleFailedRequest(fetchUrl, request, response, reject);\n        },\n        (error) => {\n          logFailure(fetchUrl, request, error);\n          reject(new Error(error));\n        });\n      });\n    };\n\n    static getResponseData(rawResponse, defaultData = null) {\n      return rawResponse.json().then(response => (response || defaultData));\n    }\n\n    static get authToken() {\n      AUTH_TOKEN = sessionStorage.getAuthToken();\n      return AUTH_TOKEN;\n    }\n\n    static set authToken(value) {\n      AUTH_TOKEN = sessionStorage.setToken(value);\n    }\n\n    static get currentUser() {\n      AUTHENTICATED_USER = sessionStorage.getUser();\n      return AUTHENTICATED_USER;\n    }\n\n    static set currentUser(value) {\n      AUTHENTICATED_USER = sessionStorage.setUser(value);\n    }\n}\n\nexport default Api;\n","/* eslint-disable class-methods-use-this */\nimport Api from './Api';\n\nconst authorizationHandler = (response) => {\n  const authToken = response.headers.get('Authorization');\n  if (authToken) {\n    Api.authToken = authToken;\n  }\n  return Api.getResponseData(response);\n};\n\nconst userHandler = (response) => {\n  const { user } = response;\n  if (user) {\n    Api.currentUser = user;\n  }\n};\n\nclass Session {\n    static URL = 'sessions';\n\n    static SIGNUP_URL = '/sessions/email';\n\n    static PASSWORD_RECOVERY_URL = '/sessions/email/password-recovery';\n\n    delete() {\n      Api.authToken = null;\n      return Api.delete(Session.URL);\n    }\n\n    async emailLogin(email, password) {\n      const params = { email, password };\n      try {\n        const response = await Api.post(Session.URL, params);\n        const authResponse = await authorizationHandler(response);\n        userHandler(authResponse);\n        return authResponse;\n      } catch (error) {\n        return error;\n      }\n    }\n\n    logout() {\n      Api.authToken = null;\n    }\n\n    resetPassword(email) {\n      const params = { email };\n      return Api.post(this.PASSWORD_RECOVERY_URL, params);\n    }\n}\n\nconst instance = new Session();\n\nexport default instance;\n","import { session } from './api';\n\nexport const USER_LOGIN = 'USER_LOGIN';\nexport const userLogin = () => ({\n  type: USER_LOGIN,\n  sendAuthRequest: true,\n});\n\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\nexport const userLoginSuccess = result => ({\n  type: USER_LOGIN_SUCCESS,\n  isLoggedIn: true,\n  user: result.user,\n});\n\nexport const USER_LOGIN_FAILURE = 'USER_LOGIN_FAILURE';\nexport const userLoginFailure = result => ({\n  type: USER_LOGIN_FAILURE,\n  errorMessage: JSON.stringify(result.errors),\n});\n\nexport const authenticateUser = (email, password) => (dispatch) => {\n  dispatch(userLogin());\n  return session.emailLogin(email, password).then((result) => {\n    if (result.success) {\n      return dispatch(userLoginSuccess(result));\n    }\n    return dispatch(userLoginFailure(result));\n  }).catch(err => dispatch(userLoginFailure(err)));\n};\n","/* eslint-disable react/require-default-props */\n/* eslint-disable react/forbid-prop-types */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router';\nimport {\n  Button, Col, Form, FormGroup, Input, Label, Row,\n} from 'reactstrap';\n\nclass SignIn extends Component {\n    static propTypes = {\n      isLoggedIn: PropTypes.bool.isRequired,\n      errorMessage: PropTypes.object,\n      authenticateUser: PropTypes.func.isRequired,\n    };\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        email: '',\n        password: '',\n      };\n    }\n\n    authenticateUser = () => {\n      const { authenticateUser } = this.props;\n      const { email, password } = this.state;\n      return authenticateUser(email, password);\n    };\n\n    render() {\n      const { isLoggedIn, errorMessage } = this.props;\n      const { email, password } = this.state;\n\n      if (isLoggedIn) {\n        return <Redirect to=\"/home\" />;\n      }\n\n      return (\n        <div className=\"form-signin-wrapper\">\n          <Row>\n            <Col sm={{\n              size: 6, push: 2, pull: 2, offset: 1,\n            }}\n            >\n              <Form>\n\n                {errorMessage\n                  ? (\n                    <div style={{ color: 'red' }}>\n                      {errorMessage}\n                      {' '}\n                    </div>\n                  )\n                  : null\n                            }\n                <FormGroup>\n                  <Label for=\"Email\">Email</Label>\n                  <Input\n                    value={email}\n                    type=\"email\"\n                    placeholder=\"Enter Email\"\n                    onChange={e => this.setState({ email: e.target.value })}\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"Password\">Password</Label>\n                  <Input\n                    value={password}\n                    type=\"password\"\n                    placeholder=\"Enter Password\"\n                    onChange={e => this.setState({ password: e.target.value })}\n                  />\n                </FormGroup>\n              </Form>\n              <Button color=\"primary\" onClick={this.authenticateUser}>\n                            Signin\n              </Button>\n            </Col>\n          </Row>\n        </div>\n      );\n    }\n}\n\nexport default SignIn;\n","import { connect } from 'react-redux';\nimport { authenticateUser } from '../../actions/login';\nimport SignIn from './SignIn';\n\nconst mapStateToProps = state => ({\n  isLoggedIn: state.session.isLoggedIn,\n  currentUser: state.session.currentUser,\n  errorMessage: state.session.errorMessage,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  authenticateUser: (email, password) => dispatch(authenticateUser(email, password)),\n});\n\nconst SignInContainer = connect(mapStateToProps, mapDispatchToProps)(SignIn);\n\nexport default SignInContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n} from 'reactstrap';\n\nclass Home extends Component {\n  static propTypes = {\n    userSignOut: PropTypes.func.isRequired,\n  };\n\n  userSignOut = () => {\n    const { userSignOut } = this.props;\n    return userSignOut();\n  }\n\n  render() {\n    return (\n      <div className=\"page-content-wrapper\">\n        <h2>\n          This is Home screen\n          <br />\n          <Button onClick={this.userSignOut}>Sign out</Button>\n        </h2>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import { connect } from 'react-redux';\nimport { userSignOut } from '../../actions/logout';\nimport Home from './Home';\n\nconst mapStateToProps = state => ({\n  isLoggedIn: state.session.isLoggedIn,\n  currentUser: state.session.currentUser,\n  errorMessage: state.session.errorMessage,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  userSignOut: () => dispatch(userSignOut()),\n});\n\nconst HomeContainer = connect(mapStateToProps, mapDispatchToProps)(Home);\n\nexport default HomeContainer;\n","import { session } from './api';\nimport sessionStorage from '../lib/sessionStorage';\n\nexport const USER_LOGOUT = 'USER_LOGOUT';\nexport const userLogout = () => ({\n  type: USER_LOGOUT,\n  sendAuthRequest: true,\n});\n\nexport const USER_LOGOUT_SUCCESS = 'USER_LOGOUT_SUCCESS';\nexport const userLogoutSuccess = () => ({\n  type: USER_LOGOUT_SUCCESS,\n  isLoggedIn: false,\n});\n\nexport const USER_LOGOUT_FAILURE = 'USER_LOGOUT_FAILURE';\nexport const userLogoutFailure = errorMessage => ({\n  type: USER_LOGOUT_FAILURE,\n  errorMessage,\n});\n\nexport const userSignOut = () => (dispatch) => {\n  dispatch(userLogout());\n\n  return session.delete()\n    .then((result) => {\n      sessionStorage.wipeSession();\n      return dispatch(userLogoutSuccess(result.data));\n    })\n    .catch(err => dispatch(userLogoutFailure(err)));\n};\n","import NotFound from './NotFound';\n\nexport default NotFound;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst NotFound = () => (\n  <div className=\"page-content-wrapper\">\n    <h2>\n        You seem to be lost. Go\n      {' '}\n      <Link to=\"/home\">Home</Link>\n    </h2>\n  </div>\n);\n\nexport default NotFound;\n","import Admin from './Admin';\n\nexport default Admin;\n","import React from 'react';\n\nconst Admin = () => (<div>Admin page</div>);\n\nexport default Admin;\n","/* eslint-disable react/require-default-props */\n/* eslint-disable react/forbid-prop-types */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  BrowserRouter as Router, Route, Redirect, Switch,\n} from 'react-router-dom';\nimport { Container } from 'reactstrap';\nimport { SignInContainer } from './signin';\nimport HomeContainer from './home';\nimport NotFound from './notFound';\nimport Admin from './admin';\n\nconst MENU_ITEMS = [\n  {\n    title: 'Home', route: '/home', component: HomeContainer, exact: true, mainMenu: true,\n  },\n  {\n    title: 'Admin', route: '/admin', component: Admin, exact: true, mainMenu: true,\n  },\n];\n\nclass App extends Component {\n  static propTypes = {\n    isLoggedIn: PropTypes.bool.isRequired,\n    currentUser: PropTypes.object,\n  };\n\n  checkAuth(ComponentToRender) {\n    const { isLoggedIn } = this.props;\n\n    return props => (isLoggedIn ? <ComponentToRender {...props} />\n      : (\n        <Redirect to={{\n          pathname: '/login',\n          state: { from: props.location },\n        }}\n        />\n      ));\n  }\n\n  checkRole() {\n    const { currentUser } = this.props;\n\n    return currentUser.role === 'admin' && <Admin />;\n  }\n\n  renderRoutes() {\n    return (\n      <div style={{ paddingTop: 20 }}>\n        <Switch>\n          <Route style={{ paddingTop: 20 }} path=\"/login\" component={SignInContainer} />\n          {\n          MENU_ITEMS.map(screen => (\n            <Route\n              path={screen.route}\n              key={screen.route}\n              exact={screen.exact}\n              render={this.checkAuth(screen.component)}\n            />\n          ))\n          }\n          {/* <Route exact path=\"/admin\" render={this.checkRole()} /> */}\n          <Route exact path=\"/*\" component={NotFound} />\n        </Switch>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Router>\n        <Container>\n          {this.renderRoutes()}\n        </Container>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import { connect } from 'react-redux';\nimport { authenticateUser } from '../actions/login';\nimport App from './App';\n\nconst mapStateToProps = state => ({\n  isLoggedIn: state.session.isLoggedIn,\n  currentUser: state.session.currentUser,\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  authenticateUser: () => dispatch(authenticateUser(ownProps)),\n});\n\nconst AppContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(App);\n\nexport default AppContainer;\n","/* eslint-disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import { applyMiddleware, combineReducers, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\nimport { routerReducer } from 'react-router-redux';\nimport * as reducers from '../reducers/index';\n\nlet middleware;\n\nif (process.env.NODE_ENV !== 'production') {\n  middleware = applyMiddleware(thunk, logger);\n} else {\n  middleware = applyMiddleware(thunk);\n}\n\nconst store = createStore(combineReducers({ ...reducers.default, routerReducer }), middleware);\n\nexport default store;\n","import sessionStorage from '../lib/sessionStorage';\n\nconst initialState = {\n  sendAuthRequest: false,\n  isLoggedIn: !!sessionStorage.getAuthToken(),\n  currentUser: sessionStorage.getUser(),\n  errorMessage: null,\n};\n\nconst session = (state = initialState, action) => {\n  switch (action.type) {\n    case 'USER_LOGIN_SUCCESS':\n      return Object.assign({}, state, {\n        isLoggedIn: true,\n        currentUser: action.user,\n        errorMessage: null,\n      });\n\n    case 'USER_LOGIN':\n      return Object.assign({}, state, {\n        sendAuthRequest: true,\n      });\n\n    case 'USER_LOGIN_FAILURE':\n      return Object.assign({}, state, {\n        isLoggedIn: false,\n        errorMessage: action.errorMessage,\n        currentUser: null,\n      });\n\n    case 'USER_LOGOUT':\n      return Object.assign({}, state, {\n        sendAuthRequest: true,\n      });\n\n    case 'USER_LOGOUT_SUCCESS':\n      return Object.assign({}, state, {\n        isLoggedIn: false,\n        currentUser: null,\n        errorMessage: null,\n      });\n\n    case 'USER_LOGOUT_FAILURE':\n      return Object.assign({}, state, {\n        errorMessage: action.errorMessage,\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default session;\n","import session from './sessions';\n\nexport default {\n  session,\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport AppContainer from './screens/AppContainer';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store/store';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <AppContainer />\n  </Provider>, document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}